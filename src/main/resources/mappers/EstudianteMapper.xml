<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.eci.pdsw.sampleprj.dao.mybatis.mappers.EstudianteMapper">
    <select parameterType="map" id="consultarEstudianteGeneral" resultMap="EstudianteResult">
        select    
            es.carnet,
            es.nombre AS es_nombre,
            es.grupo AS es_grupo
        FROM estudiante as es 

        <if test="carnet != null">
            WHERE es.carnet = #{carnet}
        </if>
    </select>
    
    <insert parameterType="map" id="agregarEstudiante">
        INSERT INTO estudiante (carnet,nombre,grupo)
        VALUES (#{carnet},#{nombre},#{grupo})
    </insert>
    
    <resultMap type="Estudiante" id="EstudianteResult" >
        <id property="carnet" column="carnet"/>
        <result property="nombre" column="es_nombre"/>
        <result property="grupo" column="es_grupo"/>
    </resultMap>
    
</mapper>
