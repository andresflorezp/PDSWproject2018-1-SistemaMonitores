<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet name="css/nv.d3.css"/>
        <h:outputScript name="JavaScript/pdfmake.min.js" />
        <h:outputScript name="JavaScript/vfs_fonts.js" />
        <title>charts</title>
    </h:head>
        
    
    <h:body>
        <p:chart type="line" model="#{chartView.lineModel2}" style="height:300px;" widgetVar="lineWV"/>
        <p:commandLink onclick="exportChartInPDF()">
            Export Chart To PDF
        </p:commandLink>
      
        <script>
            function exportChartInPDF() {
               var docDefinition = {
                  content: [
                    'Line Chart','\n',
                    'Analisis de las graficas',
                    '\n',
                    'En este caso se tienen las siguientes Graficas',
        
                    {
                       image: $(PF('lineWV').exportAsImage()).attr('src'),
                       width: 520,
                       height: 120
                       
                    }		
                  ]
               }
               pdfMake.createPdf(docDefinition).open();
               //pdfMake.createPdf(docDefinition).download('primefaces-charts.pdf');
            }
         </script>
    </h:body>

</html>

 